(this.webpackJsonpprojektpogoda=this.webpackJsonpprojektpogoda||[]).push([[0],{11:function(e,t,a){e.exports=a(24)},16:function(e,t,a){},17:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(2),c=a.n(l),o=(a(16),a(1)),s=a(6),i=a(7),u=a(9),h=a(10),m=function(e){return r.a.createElement("form",{onSubmit:e.submit},r.a.createElement("input",{type:"text",value:e.value,placeholder:"Type your ciry",onChange:e.change}),r.a.createElement("button",null,"Search"))},d=(a(17),function(e){var t=e.weather,a=t.err,n=t.city,l=t.temp,c=t.date,o=t.sunrise,s=t.sunset,i=(t.pressure,t.wind,t.weather),u=null;if(!a&&n){var h=new Date(1e3*o).toLocaleTimeString(),m=new Date(1e3*s).toLocaleTimeString();u=r.a.createElement("div",null,r.a.createElement("h3",null,n),r.a.createElement("p",null,"City Name"),r.a.createElement("h4",null,l,"\xb0C"),r.a.createElement("p",null,"Temperature"),r.a.createElement("div",{className:"higher"},r.a.createElement("div",{className:"lower"},r.a.createElement("h4",null,c),r.a.createElement("p",null,"Date and hour")),r.a.createElement("div",{className:"lower"},r.a.createElement("h4",null,i),r.a.createElement("p",null,"Weather"))),r.a.createElement("div",{className:"higher"},r.a.createElement("div",{className:"lower"},r.a.createElement("h4",null,h),r.a.createElement("p",null,"Sunrise")),r.a.createElement("div",{className:"lower"},r.a.createElement("h4",null,m),r.a.createElement("p",null,"Sunset"))))}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"result"},a?"Nie mamy w bazie: ".concat(n):u))}),p=function(e){var t=e.days.map((function(e){return r.a.createElement("div",{className:"dailyForecast",key:e.dayDate},r.a.createElement("h3",null,e.dayDate),r.a.createElement("div",{className:"higher"},r.a.createElement("div",{className:"lower"},r.a.createElement("h4",null,e.dayTemp),r.a.createElement("p",null,"Day")),r.a.createElement("div",{className:"lower"},r.a.createElement("h4",null,e.dayNight),r.a.createElement("p",null,"Night"))),r.a.createElement("h4",null," ",e.dayWeather),r.a.createElement("p",null,"Weather"))}));return r.a.createElement("div",{className:"forecast"},t)},y=a(3),f=a(8),E=a.n(f),g=(a(5),a(22),function(e){var t=Object(y.a)(e.hours).map((function(e){return e[0]+e[1]})),a=(t.map((function(e){return parseInt(e,10)})),{labels:t,series:[{name:"series",data:Object(y.a)(e.temps)}]});return r.a.createElement("div",{className:"chart"},r.a.createElement("h2",null,"Hourly forecast for 24 hours:"),r.a.createElement(E.a,{data:a,options:{axisX:{labelInterpolationFnc:function(e,t){return t%3===0?e+":00":null}},axisY:{labelInterpolationFnc:function(e){return e+"\xb0C"}},showArea:!0},type:"Line",className:".ct-chart-bar"}))}),v=function(){return r.a.createElement("div",{className:"startPage"},r.a.createElement("h1",null,"Weather App"),r.a.createElement("br",null),r.a.createElement("h3",null,"by ",r.a.createElement("a",{href:"https://github.com/BartoNatanael"},"Bart\u0142omiej Nowak")),r.a.createElement("br",null),r.a.createElement("p",null,"Picture API from: ",r.a.createElement("a",{href:"https://pixabay.com/"},"Pixabay"),"."))},w=(a(23),"42f820f38e074d0adb73d09de7748a6c"),b="15964181-0e2a36068d47ea2f8398b6c56",N=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={backGround:"https://cdn.pixabay.com/photo/2013/10/02/23/03/dawn-190055_960_720.jpg",started:!1,value:"",date:"",city:"",sunrise:"",sunset:"",temp:"",pressure:"",wind:"",err:!1,weather:"",forecast:[1,2,3,4],hourlyForecast:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],hourlyForecastDate:["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"]},e.handleInputChange=function(t){e.setState({value:t.target.value})},e.handleCitySubmit=function(t){t.preventDefault();var a="https://api.openweathermap.org/data/2.5/weather?q=".concat(e.state.value,"&appid=").concat(w,"&units=metric");fetch(a).then((function(e){if(e.ok)return e;throw Error("Nie uda\u0142o si\u0119")})).then((function(e){return e.json()})).then((function(t){var a=(new Date).toLocaleString();e.setState({date:a,city:e.state.value,sunrise:t.sys.sunrise,sunset:t.sys.sunset,temp:t.main.temp,pressure:t.main.pressure,wind:t.wind.speed,nightIcon:"",err:!1,started:!0});var n=t.coord.lon,r=t.coord.lat;e.handle2ndLooking(n,r)})).catch((function(t){console.log(t),e.setState({err:!0,city:e.state.value})}))},e.handle2ndLooking=function(t,a){var n="https://api.openweathermap.org/data/2.5/onecall?lat=".concat(a,"&lon=").concat(t,"&appid=").concat(w,"&units=metric");console.log(n),fetch(n).then((function(e){if(e.ok)return e;throw Error("Nie uda\u0142o si\u0119")})).then((function(e){return e.json()})).then((function(t){var a,n,r=t.current.weather[0].description;for(r.length>20&&(r=t.current.weather[0].main),e.setState({weather:r}),console.log(r),r.replace(/ /g,"+"),console.log(r),e.handleBackGround(r),a=1;a<5;a++){var l={dayTemp:t.daily[a].temp.day,dayNight:t.daily[a].temp.night,dayWeather:t.daily[a].weather[0].description,dayIcon:"http://openweathermap.org/img/wn/".concat(t.daily[a].weather[0].icon,".png"),dayDate:new Date(1e3*t.daily[a].dt).toLocaleDateString()};e.setState(Object(o.a)({forecast:e.state.forecast.splice(0,1)},"forecast",e.state.forecast.concat(l)))}for(n=0;n<25;n++){var c,s=new Date(1e3*t.hourly[n].dt).toLocaleTimeString(),i=t.hourly[n].temp;e.setState((c={hourlyForecast:e.state.hourlyForecast.splice(0,1)},Object(o.a)(c,"hourlyForecast",e.state.hourlyForecast.concat(i)),Object(o.a)(c,"hourlyForecastDate",e.state.hourlyForecastDate.splice(0,1)),Object(o.a)(c,"hourlyForecastDate",e.state.hourlyForecastDate.concat(s)),c))}})).catch((function(e){console.log(e)}))},e.handleBackGround=function(t){var a="https://pixabay.com/api/?key=".concat(b,"&q=").concat(t,"&image_type=photo");console.log(a),fetch(a).then((function(e){if(e.ok)return e;throw Error("Nie uda\u0142o si\u0119")})).then((function(e){return e.json()})).then((function(t){e.setState({backGround:t.hits[0].largeImageURL})})).catch((function(t){console.log(t),e.setState({err:!0,city:e.state.value})}))},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App",style:{backgroundImage:"url(".concat(this.state.backGround,")")}},r.a.createElement("nav",null,r.a.createElement(m,{value:this.state.value,change:this.handleInputChange,submit:this.handleCitySubmit})),this.state.started?r.a.createElement(d,{weather:this.state}):null,this.state.started?r.a.createElement(g,{hours:this.state.hourlyForecastDate,temps:this.state.hourlyForecast}):null,this.state.started?r.a.createElement(p,{days:this.state.forecast}):null,this.state.started?null:r.a.createElement(v,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.3bf58f2f.chunk.js.map